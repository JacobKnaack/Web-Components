<!DOCTYPE html>
<html lang="en">
<head>
  <script type="module" src="./bundle.js"></script>
</head>
<body>
  <header>
    <h1>Form Test</h1>
    <button id="require-input">Add Required Input</button>
  </header>
  <section id="output"></section>
  <script>
    function printOutput(values) {
      console.log(values);
      let outputEl = document.getElementById('output');
      
      Object.keys(values).forEach(key => {
        let valueEl = document.createElement('p');
        valueEl.textContent = values[key];
        outputEl.appendChild(valueEl);
      });
    }

    window.addEventListener('DOMContentLoaded', () => {
      const form = document.createElement('app-form');
      form.setBackgroundColor('lightblue');
      form.setLegend('Test Legend');
      form.addTextInput({ id: 'test-id-1', label: 'test label 1' });
      form.addOptionInput({ id: 'test-id-2', label: 'test label 2', values: ['option 1', 'option 2'] });
      form.addRadioInput({ id: 'test-id-3', label: 'test label 3', values: ['option 3', 'option 4'] });
      form.addDatePicker({ id: 'test-id-4', label: 'test label 4' });
      form.onSubmit(printOutput);
    
      const form2 = document.createElement('app-form');
      form2.setLegend('Simple Transparent Form');
      form2.setBackground('transparent');
      form2.addTextInput({ id: 'test-id-6', label: 'test label 6'});
      form2.addTextInput({ id: 'test-id-7', label: 'test label 7' });
      form2.setButtonText('Clickity Click');
      form2.onSubmit(printOutput);

      document.body.appendChild(form);
      document.body.appendChild(form2);
      document.querySelector('#require-input').addEventListener('click', () => {
        form.addTextInput({ id: 'test-id-5', label: 'test label 5', required: true });
      });
    });
  </script>
</body>
</html>